<template>
  <div class="container" if.bind="is_connected">
    <connect-bar ></connect-bar>
    <table>
      <tbody>
        <tr>
          <td style="text-align:center">
              <sheader-bar></sheader-bar>
          </td>
        </tr>
		<tr>
			<td style="text-align:center">
				<work-bar></work-bar>
			</td>
		</tr>
        <tr if.bind="canShowForm">
          <td>
            <table>
              <tbody>
                <tr>
                  <td style="text-align:center">
                    <div class="form-group">
                      <label class="form-label" for="persons">Etudiants</label>
                      <select id="persons" multiple value.bind="currentPersons" size="16">
                        <option repeat.for="pers of persons" model.bind="pers">${pers.text}</option>
                      </select>
                    </div>
                  </td>
                  <td style="text-align:center">
                      <div>
                        <button type="button" click.delegate="refreshAll()" class="btn btn-primary">Rafraîchir</button>
                      </div>
                      <div class="form-group">
                        <label class="form-label" for="startDate">Date de début</label>
                        <input class="form-control" type="date" id="startDate" value.bind="allStartDate" min.bind="minDate" max.bind="maxDate" required></input>
                      </div>
                      <div class="form-group">
                        <label class="form-label" for="endDate">Date de fin</label>
                        <input class="form-control" type="date" id="endDate" value.bind="allEndDate" min.bind="minDate" max.bind="maxDate" required></input>
                      </div>
                      <div class="btn-group">
                        <button type="button" disabled.bind="cannotSave" click.delegate="save()" class="btn btn-primary">Ajouter</button>
                        <button type="button" disabled.bind="cannotRemove" click.delegate="remove()" class="btn btn-primary">Supprimer</button>
                      </div>
                  </td>
                  <td style="text-align:center">
                    <div if.bind="hasItems">
                      <ul class="pagination" if.bind="hasPages">
                        <li>
                          <a href="#" click.delegate="firstPage()" show.bind="canPrevPage">Début</a>
                        </li>
                        <li>
                          <a href="#" click.delegate="prevPage()" show.bind="canPrevPage">Préc.</a>
                        </li>
                        <li>
                          <a href="#" click.delegate="nextPage()" show.bind="canNextPage">Suivant</a>
                        </li>
                        <li>
                          <a href="#" click.delegate="lastPage()" show.bind="canNextPage">Fin</a>
                        </li>
                      </ul>
                      <div class="form-group">
                        <label class="form-label" for="affectations">Affectations</label>
                        <select id="affectations" multiple value.bind="currentAffectations" size="16">
                          <option repeat.for="elem of items" model.bind="elem">${elem.text}</option>
                        </select>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</template>
